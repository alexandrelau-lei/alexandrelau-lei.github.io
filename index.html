<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <title>Primeira Página</title>
  <link rel="stylesheet" href="styles.css?v=2">
</head>

<body>

<header>
  <h1>I love you Tery</h1>
</header>

<main>

  <!-- HERO IMAGE -->
  <section id="hero">
    <img src="images/image.png" alt="I love you" class="hero">
  </section>

  <!-- TEXT -->
  <section id="text">
    <p>Choose wisely:</p>
  </section>

  <!-- PLAY AREA -->
  <div id="play-area">
    <button id="noBtn" class="btn btn-no">No</button>
    <button id="yesBtn" class="btn btn-yes">Yes</button>
  </div>

  <!-- SCRIPT -->
  <script>
    (function () {

      const noBtn = document.getElementById("noBtn");
      const yesBtn = document.getElementById("yesBtn");
      const area = document.getElementById("play-area");

      let yesScale = 1;

      // Initial positioning
      area.style.position = "relative";
      noBtn.style.position = "absolute";
      yesBtn.style.position = "absolute";

      yesBtn.style.left = "50%";
      yesBtn.style.top = "50%";
      yesBtn.style.transform = "translate(-50%, -50%) scale(1)";

      noBtn.style.left = "16px";
      noBtn.style.top = "16px";

      // Move NO button + grow YES
      noBtn.addEventListener("click", () => {
        const rect = area.getBoundingClientRect();

        const x = Math.random() * (rect.width - noBtn.offsetWidth);
        const y = Math.random() * (rect.height - noBtn.offsetHeight);

        noBtn.style.left = x + "px";
        noBtn.style.top = y + "px";

        yesScale += 0.15;
        yesBtn.style.transform = `translate(-50%, -50%) scale(${yesScale})`;
      });

      // YES button → open modal
      yesBtn.addEventListener("click", openModal);

      function openModal() {

        // Create modal once
        if (!document.getElementById("loveModal")) {
          document.body.insertAdjacentHTML("beforeend", `
            <div id="loveModal" class="modal">
              <div class="modal-content">
                <button class="modal-close">&times;</button>

                <!-- TEXT ABOVE VIDEO -->
                <div class="modal-text">
                  I LOVE YOU ❤️
                </div>

                <!-- VIDEO -->
                <video class="modal-video"
                       autoplay
                       loop
                       muted
                       playsinline>
                  <source src="images/love.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>

              </div>
            </div>
          `);

          // Close actions
          document.querySelector(".modal-close").onclick = closeModal;

          document.getElementById("loveModal").onclick = (e) => {
            if (e.target.id === "loveModal") closeModal();
          };

          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closeModal();
          });
        }

        document.getElementById("loveModal").classList.add("open");
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        const modal = document.getElementById("loveModal");
        if (!modal) return;

        modal.classList.remove("open");
        document.body.style.overflow = "";
      }

    })();
  </script>

</main>

<footer>
  <p>Made by your stupid man child Lau</p>
</footer>

</body>
</html>